<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Week 3 - Day 4: Feature Importance Analysis</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .day-subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }
        .content-section {
            margin: 30px 0;
        }
        .content-section h2 {
            color: #2c3e50;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .flashcard-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .flashcard {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .flashcard:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #667eea;
        }
        .flashcard.flipped {
            background: #667eea;
            color: white;
        }
        .flashcard-question {
            font-weight: bold;
            font-size: 1.1em;
        }
        .flashcard-answer {
            display: none;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid #dee2e6;
        }
        .flashcard.flipped .flashcard-answer {
            display: block;
        }
        .flashcard.flipped .flashcard-answer {
            border-top-color: rgba(255,255,255,0.3);
        }
        .progress-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            border-radius: 10px;
            transition: width 0.3s ease;
        }
        .navigation-buttons {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }
        .nav-button {
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }
        .nav-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .nav-button.next {
            background: #007bff;
        }
        .nav-button.home {
            background: #6c757d;
        }
        .nav-button.prev {
            background: #6c757d;
        }
        .completion-form {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .completion-form h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        .checkbox-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }
        .checkbox-item input {
            margin-right: 10px;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
            text-align: center;
        }
        .stat-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }
        .stat-number {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }
        .stat-label {
            color: #6c757d;
            font-size: 0.9em;
        }
        @media (max-width: 768px) {
            .navigation-buttons {
                flex-direction: column;
                align-items: center;
            }
            .nav-button {
                width: 200px;
            }
            h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üìä Week 3 - Day 4</h1>
        <div class="day-subtitle">Feature Importance Analysis</div>

        <div class="content-section">
            <h2>üéØ Today's Learning Objectives</h2>
            <ul>
                <li>Gini importance (mean decrease impurity)</li>
                <li>Permutation importance</li>
                <li>Drop-column importance</li>
                <li>Feature selection strategies</li>
            </ul>
        </div>

        <div class="flashcard-container">
            <h2>üÉè Key Concepts Flashcards</h2>
            <div class="flashcard" onclick="flipCard(this)">
                <div class="flashcard-question">How does Gini importance work?</div>
                <div class="flashcard-answer">Gini importance measures how much each feature decreases the impurity (Gini index) across all trees. Features that create the best splits get higher importance scores. It's calculated as the total reduction in impurity weighted by the number of samples reaching each node.</div>
            </div>
            <div class="flashcard" onclick="flipCard(this)">
                <div class="flashcard-question">What's the difference between Gini importance and permutation importance?</div>
                <div class="flashcard-answer">Gini importance is computed during training and can be biased toward high-cardinality features. Permutation importance is computed post-training by randomly shuffling feature values and measuring the drop in model performance, providing a more reliable measure of true importance.</div>
            </div>
            <div class="flashcard" onclick="flipCard(this)">
                <div class="flashcard-question">How does drop-column importance work?</div>
                <div class="flashcard-answer">Drop-column importance retrains the model without each feature and measures the performance drop. It's computationally expensive but provides the most accurate importance scores since it accounts for feature interactions and dependencies.</div>
            </div>
            <div class="flashcard" onclick="flipCard(this)">
                <div class="flashcard-question">Why is feature importance useful for model interpretation?</div>
                <div class="flashcard-answer">Feature importance helps identify which variables drive predictions, enables feature selection to reduce model complexity, detects data leakage, and provides insights for domain experts to understand the underlying relationships in the data.</div>
            </div>
        </div>

        <div class="progress-section">
            <h2>üìä Learning Progress</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-number" id="completedCards">0</div>
                    <div class="stat-label">Cards Reviewed</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="totalCards">4</div>
                    <div class="stat-label">Total Cards</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="progressPercent">0%</div>
                    <div class="stat-label">Complete</div>
                </div>
            </div>
        </div>

        <div class="completion-form">
            <h3>‚úÖ Mark Your Progress</h3>
            <form id="completionForm">
                <div class="checkbox-item">
                    <input type="checkbox" id="concept1" onchange="updateProgress()">
                    <label for="concept1">Calculated Gini importance for a random forest model</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="concept2" onchange="updateProgress()">
                    <label for="concept2">Implemented permutation importance analysis</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="concept3" onchange="updateProgress()">
                    <label for="concept3">Compared different importance methods</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="concept4" onchange="updateProgress()">
                    <label for="concept4">Performed feature selection based on importance</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="concept5" onchange="updateProgress()">
                    <label for="concept5">Visualized and interpreted feature importance results</label>
                </div>
            </form>
        </div>

        <div class="content-section">
            <h2>üöÄ Next Steps</h2>
            <p>Excellent work on feature importance! Tomorrow we'll explore ensemble methods beyond random forests.</p>
            <p><strong>Log your session:</strong> <code>python coach.py log 2.5 "Feature Importance,Gini Importance,Permutation Importance,Drop-Column"</code></p>
        </div>

        <div class="navigation-buttons">
            <button onclick="window.location.href='../day3/index.html'" class="nav-button prev">‚Üê Day 3: Random Forest Algorithm</button>
            <button onclick="window.location.href='http://localhost:8000/learning_plan/index.html'" class="nav-button home">üè† Home</button>
            <button onclick="window.location.href='../day5/index.html'" class="nav-button next">‚Üí Day 5: Gradient Boosting</button>
        </div>
    </div>

    <script>
        function flipCard(card) {
            card.classList.toggle('flipped');
            updateProgress();
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('#completionForm input[type="checkbox"]');
            const checkedCount = document.querySelectorAll('#completionForm input[type="checkbox"]:checked').length;
            const totalCount = checkboxes.length;
            const flashcards = document.querySelectorAll('.flashcard.flipped').length;
            const totalFlashcards = document.querySelectorAll('.flashcard').length;

            const progressPercent = Math.round(((checkedCount / totalCount) + (flashcards / totalFlashcards)) / 2 * 100);

            document.getElementById('progressFill').style.width = progressPercent + '%';
            document.getElementById('completedCards').textContent = flashcards;
            document.getElementById('progressPercent').textContent = progressPercent + '%';

            // Save progress to localStorage
            const progress = {
                checkboxes: checkedCount,
                flashcards: flashcards,
                percentage: progressPercent,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('week3_day4_progress', JSON.stringify(progress));
        }

        // Load saved progress on page load
        window.onload = function() {
            const saved = localStorage.getItem('week3_day4_progress');
            if (saved) {
                const progress = JSON.parse(saved);
                document.getElementById('progressFill').style.width = progress.percentage + '%';
                document.getElementById('completedCards').textContent = progress.flashcards;
                document.getElementById('progressPercent').textContent = progress.percentage + '%';
            }
        };
    </script>
</body>
</html>